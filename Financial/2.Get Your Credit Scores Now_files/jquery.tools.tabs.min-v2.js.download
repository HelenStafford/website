!function(d){d.tools=d.tools||{version:"@VERSION"},d.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(e,t){h[e]=t}};var r,a,h={default:function(e,t){this.getPanes().hide().eq(e).show(),t.call()},collapseCurrent:function(e,t){var n=this.getConf();this.getPanes().slideUp(n.slideUpSpeed)},fade:function(e,t){var n=this.getConf(),i=n.fadeOutSpeed,r=this.getPanes();i?r.fadeOut(i):r.hide(),r.eq(e).fadeIn(n.fadeInSpeed,t)},slide:function(e,t){var n=this.getConf();this.getPanes().slideUp(n.slideUpSpeed),this.getPanes().eq(e).slideDown(n.slideDownSpeed,t)},slide:function(e,t){var n=this.getConf();this.getPanes().slideUp(n.slideUpSpeed),this.getPanes().eq(e).slideDown(n.slideDownSpeed,t)},ajax:function(e,t){this.getPanes().eq(0).load(this.getTabs().eq(e).attr("href"),t)}};function i(o,e,s){var c,l=this,f=o.add(this),u=o.find(s.tabs),t=e.jquery?e:o.children(e);u.length||(u=o.children()),t.length||(t=o.parent().find(e)),t.length||(t=d(e)),d.extend(this,{click:function(e,t){var n=u.eq(e),i=!o.data("tabs");if("string"==typeof e&&e.replace("#","")&&(n=u.filter('[href*="'+e.replace("#","")+'"]'),e=Math.max(u.index(n),0)),s.rotate){var r=u.length-1;if(e<0)return l.click(r,t);if(r<e)return l.click(0,t)}if(!n.length){if(0<=c)return l;e=s.initialIndex,n=u.eq(e)}if((t=t||d.Event()).type="onBeforeClick",f.trigger(t,[e]),!t.isDefaultPrevented()){var a=i?s.initialEffect&&s.effect||"default":s.effect;return e===c?(h.collapseCurrent.call(l,e,function(){c=e,t.type="onClick",f.trigger(t,[e])}),u.removeClass(s.current),c=-1):(h[a].call(l,e,function(){c=e,t.type="onClick",f.trigger(t,[e])}),u.removeClass(s.current),n.addClass(s.current)),l}},getConf:function(){return s},getTabs:function(){return u},getPanes:function(){return t},getCurrentPane:function(){return t.eq(c)},getCurrentTab:function(){return u.eq(c)},getIndex:function(){return c},next:function(){return l.click(c+1)},prev:function(){return l.click(c-1)},destroy:function(){return u.off(s.event).removeClass(s.current),t.find('a[href^="#"]').off("click.T"),l}}),d.each("onBeforeClick,onClick".split(","),function(e,t){d.isFunction(s[t])&&d(l).on(t,s[t]),l[t]=function(e){return e&&d(l).on(t,e),l}}),s.history&&d.fn.history&&(d.tools.history.init(u),s.event="history"),u.each(function(t){d(this).on(s.event,function(e){return l.click(t,e),e.preventDefault()})}),t.find('a[href^="#"]').on("click.T",function(e){l.click(d(this).attr("href"),e)}),location.hash&&"a"==s.tabs&&o.find('[href="'+location.hash+'"]').length?l.click(location.hash):(0===s.initialIndex||0<s.initialIndex)&&l.click(s.initialIndex)}d.tools.tabs.addEffect("horizontal",function(e,t){if(!r){var n=this.getPanes().eq(e),i=this.getCurrentPane();a||(a=this.getPanes().eq(0).width()),r=!0,n.show(),i.animate({width:0},{step:function(e){n.css("width",a-e)},complete:function(){d(this).hide(),t.call(),r=!1}}),i.length||(t.call(),r=!1)}}),d.fn.tabs=function(e,t){var n=this.data("tabs");return n&&(n.destroy(),this.removeData("tabs")),d.isFunction(t)&&(t={onBeforeClick:t}),t=d.extend({},d.tools.tabs.conf,t),this.each(function(){n=new i(d(this),e,t),d(this).data("tabs",n)}),t.api?n:this}}(jQuery);