!function(t){function i(t,e,s){return this.constructor!=i||this.init?new i(t,e,s):(this.set(t,e,s),this)}t.timer=i,i.prototype.set=function(t,i,e){return this.init=!0,"object"==typeof t&&(t.time&&(i=t.time),t.autostart&&(e=t.autostart),t=t.action),"function"==typeof t&&(this.action=t),isNaN(i)||(this.intervalTime=i),e&&this.isReadyToStart()&&(this.isActive=!0,this.setTimer()),this},i.prototype.isReadyToStart=function(){var t=!this.active,i="function"==typeof this.action,e=!isNaN(this.intervalTime);return t&&i&&e},i.prototype.once=function(t){function i(){e.action()}var e=this;return isNaN(t)?(e.action(),this):(setTimeout(i,t),this)},i.prototype.play=function(t){return this.isReadyToStart()&&(t?this.setTimer():this.setTimer(this.remaining),this.isActive=!0),this},i.prototype.pause=function(){return this.isActive&&(this.isActive=!1,this.remaining-=new Date-this.last,this.clearTimer()),this},i.prototype.stop=function(){return this.isActive=!1,this.remaining=this.intervalTime,this.clearTimer(),this},i.prototype.toggle=function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this},i.prototype.reset=function(){return this.isActive=!1,this.play(!0),this},i.prototype.clearTimer=function(){return clearTimeout(this.timeoutObject),this},i.prototype.setTimer=function(t){function i(){e.execute()}var e=this;return isNaN(t)&&(t=this.intervalTime),this.remaining=t,this.last=new Date,this.clearTimer(),this.timeoutObject=setTimeout(i,t),this},i.prototype.execute=function(){if(this.isActive)try{this.action()}finally{this.setTimer()}return this}}(jQuery);