$(document).ready((jQuery,void $.extend($.supermoney,{reviewApi:{getServicesTree:function(e,a,t){return $.ajax({type:"GET",url:"/api/servicestree",xhrFields:{withCredentials:!0},data:{businessId:e},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},getReview:function(e,a,t){return $.ajax({type:"GET",url:"/api/review/"+e,xhrFields:{withCredentials:!0},data:{},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},getReviewsChooser:function(e,a,t,s,i){return $.ajax({type:"GET",url:"/api/reviewchooser",xhrFields:{withCredentials:!0},data:{profileType:e,categoryId:a,businessId:t},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?s&&s(e.data):i&&i(e.data||e.message)}).fail(function(e){i&&i(e.data||e.message)})},getWwwTemplate:function(e){return $.ajax({type:"GET",url:e})},moreBusinesses:function(e,a,t,s){var i=getQueryParams();for(var n in i)a[n]=i[n];return $.ajax({type:"POST",url:"/api/business/"+e,xhrFields:{withCredentials:!0},data:a,success:null,timeout:6e4,cache:!1}).done(function(e){e.success?t&&t(e.data):s&&s(e.data||e.message)}).fail(function(e){s&&s(e.data||e.message)})},moreReviews:function(e,a,t){return $.ajax({type:"GET",url:"/api/reviews",xhrFields:{withCredentials:!0},data:e,success:null,timeout:15e3,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},ownedReviews:function(e,a,t){return $.ajax({type:"GET",url:"/api/reviews/user",xhrFields:{withCredentials:!0},data:e,success:null,timeout:15e3,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},newReview:function(e,a,t,s,i,n,u,c){return $.ajax({type:"POST",url:"/api/review/"+e+"/"+a,xhrFields:{withCredentials:!0},data:{rating:t,reviewText:s,anonymous:i,profileType:n},success:null,timeout:6e4,cache:!1}).done(function(e){e.success?u&&u(e.data):c&&c(e.data||e.message)}).fail(function(e){c&&c(e.data||e.message)})},setReviewFlag:function(e,a,t,s,i,n,u){return $.ajax({type:"POST",url:"/api/reviewflag/"+e,xhrFields:{withCredentials:!0},data:{dataFlag:a,dataValue:t,categoryNicename:s,businessNicename:i},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?n&&n(e.data):u&&u(e.data||e.message)}).fail(function(e){u&&u(e.data||e.message)})},updateReview:function(e,a,t,s,i,n,u,c,r){return $.ajax({type:"POST",url:"/api/review/"+e,xhrFields:{withCredentials:!0},data:{rating:a,reviewText:t,anonymous:s,profileType:i,categoryNicename:n,businessNicename:u},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?c&&c(e.data):r&&r(e.data||e.message)}).fail(function(e){r&&r(e.data||e.message)})},validateReview:function(e,a,t,s,i,n){return $.ajax({type:"POST",url:"/api/validatereview",xhrFields:{withCredentials:!0},data:{category:e,business:a,dataVote:t,reviewText:s},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?i&&i(e.data):n&&n(e.data||e.message)}).fail(function(e){n&&n(e.data||e.message)})},userDeactivate:function(a,t){return $.ajax({type:"POST",url:"/api/user/deactivate",xhrFields:{withCredentials:!0},data:null,success:null,timeout:15e3,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},userUpdate:function(e,a,t,s){return $.ajax({type:"POST",url:"/api/user/update/"+e,xhrFields:{withCredentials:!0},data:a,success:null,timeout:15e3,cache:!1}).done(function(e){e.success?t&&t(e.data):s&&s(e.data||e.message)}).fail(function(e){s&&s(e.data||e.message)})},userUploadPhoto:function(e,a,t){return $.ajax({type:"POST",url:"/api/user/uploadphoto",xhrFields:{withCredentials:!0},data:e,success:null,timeout:6e4,cache:!1,contentType:!1,processData:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},userClearPhoto:function(a,t){return $.ajax({type:"POST",url:"/api/user/clearphoto",xhrFields:{withCredentials:!0},data:null,success:null,timeout:15e3,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},userRemovePhoto:function(e,a,t){return $.ajax({type:"POST",url:"/api/user/removephoto",xhrFields:{withCredentials:!0},data:{previewFile:e},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},userSavePhoto:function(e,a,t){return $.ajax({type:"POST",url:"/api/user/savephoto",xhrFields:{withCredentials:!0},data:{previewFile:e},success:null,timeout:3e4,cache:!1}).done(function(e){e.success?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},requestConfirmLink:function(e,a,t){return $.ajax({type:"GET",url:"/api/user/requestConfirmLink/",xhrFields:{withCredentials:!0},data:{business:a,category:e,reviewId:t},success:null,timeout:2e4,cache:!1})},voteOnReview:function(e,a,t,s){return $.ajax({type:"POST",url:"/api/reviewvote",xhrFields:{withCredentials:!0},data:{reviewId:e,voteType:a},success:null,timeout:15e3,cache:!1}).done(function(e){e.success?t&&t(e.data):s&&s(e.data||e.message)}).fail(function(e){s&&s(e.data||e.message)})},reportReview:function(e){return $.ajax({type:"POST",url:"/api/user/report/"+e.reviewId,xhrFields:{withCredentials:!0},data:{selectedReason:e.selectedReason,reasonDetails:e.reasonDetails},success:null,timeout:2e4,cache:!1})},reportedReview:function(a,t,e){return $.ajax({type:"GET",url:"/api/user/reported/"+e,xhrFields:{withCredentials:!0,reviewId:e},success:null,timeout:3e4,cache:!1}).done(function(e){e.success&&e.data?a&&a(e.data):t&&t(e.data||e.message)}).fail(function(e){t&&t(e.data||e.message)})},getReviewReports:function(e){return $.ajax({type:"POST",url:"/api/user/report/list/"+e,xhrFields:{withCredentials:!0},success:null,timeout:2e4,cache:!1})},getParentCategoryProducts:function(e,a,t,s,i){return $.ajax({type:"GET",url:"/api/business/"+e+"/"+a+"/products",xhrFields:{withCredentials:!0},data:t,success:null,timeout:15e3,cache:!1}).done(function(e){e.success?s&&s(e.data):i&&i(e.data||e.message)}).fail(function(e){i&&i(e.data||e.message)})}}})));