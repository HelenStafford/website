$(document).on('click', '.card-carousel .my-card', function () {
  var slide = $('.card-carousel .active').width();
  slide = parseInt(slide) - (parseInt(slide)/4);

  if ($(this).hasClass('next')) {
    $('.card-carousel').stop(false, true).animate({left: '-=' + slide});
  } else if ($(this).hasClass('prev')) {
    $('.card-carousel').stop(false, true).animate({left: '+=' + slide});
  }

  $(this).removeClass('prev next');
  $(this).siblings().removeClass('prev active next');

  $(this).addClass('active');
  $(this).prev().addClass('prev');
  $(this).next().addClass('next');
});


// Keyboard nav
$(document).on('keydown', function (e) {
  if ($('.card-carousel').length) {
    if (e.keyCode == 37) { // left
      $('.card-carousel .active').prev().trigger('click');
    } else if (e.keyCode == 39) { // right
      $('.card-carousel .active').next().trigger('click');
    }
  }
});
