function setCookie(t,e,a){var n=new Date;n.setDate(n.getDate()+a);var i=escape(e)+(null==a?"":"; path=/; expires="+n.toUTCString());document.cookie=t+"="+i}function getCookie(t){var e,a,n,i=document.cookie.split(";");for(e=0;e<i.length;e++)if(a=i[e].substr(0,i[e].indexOf("=")),n=i[e].substr(i[e].indexOf("=")+1),(a=a.replace(/^\s+|\s+$/g,""))==t)return unescape(n)}!function(t,e){jQuery.fn[e]=function(t){return t?this.bind("resize",(a=t,function(){var t=this,e=arguments;o?clearTimeout(o):i&&a.apply(t,e),o=setTimeout(function(){i||a.apply(t,e),o=null},n||100)})):this.trigger(e);var a,n,i,o}}(jQuery,"smartresize"),window.ONNIT=window.ONNIT||{},window.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("cart-icon");t&&t.addEventListener("click",function(t){if(t.preventDefault(),!window.ONNIT||!window.ONNIT.cart)throw new Error("Cannot open cart flyout drawer because `window.ONNIT.cart` is undefined.");window.ONNIT.cart.openDrawer()})}),function(t){var e=t(window),a=t(document);t("html");ONNIT.imgpath="https://www.onnit.com",ONNIT.Authority=function(t,e){var a="",n="";if((e=e||{}).full=!0,void 0!==e)for(var i in void 0!==e.full&&e.full&&(a=ONNIT.imgpath.length?ONNIT.imgpath:"https://www.onnit.com",delete e.full),void 0!==e.extension&&(t+=e.extension,delete e.extension),e.auto="format",e)n+="&"+i+"="+e[i];return a+"/onnit/images/authority/"+t+".png?ver"+n},ONNIT.dynamic_add_to_cart=function(e){if(e.preventDefault(),ONNIT.$dynamic_add_to_cart_form=t(e.target),!ONNIT.$dynamic_add_to_cart_form.hasClass("oos")){var a=ONNIT.$dynamic_add_to_cart_form.find(".add-to-cart");if(!a.hasClass("adding")){a.attr("data-og-text",a.text()).prop("disabled",!0).toggleClass("adding").text("Adding...");var n=ONNIT.$dynamic_add_to_cart_form.find('input[name="frequency"]'),i=null;i=n&&"radio"===n.attr("type")||"checkbox"===n.attr("type")?ONNIT.$dynamic_add_to_cart_form.find('input[name="frequency"]:checked').val():ONNIT.$dynamic_add_to_cart_form.find('input[name="frequency"]').val();var o=ONNIT.$dynamic_add_to_cart_form.find('input[name="products_id"]').val(),r=ONNIT.$dynamic_add_to_cart_form.find('input[name="cart_quantity"]').val(),s="1"===t('input[name="trial_offer"]',ONNIT.$dynamic_add_to_cart_form).val(),c=t('input[name="email"]',ONNIT.$dynamic_add_to_cart_form).length>0?t('input[name="email"]',ONNIT.$dynamic_add_to_cart_form).val():null,d=!!(s&&c&&t('input[name="newsletter"]:checked',ONNIT.$dynamic_add_to_cart_form).length),l=t('input[name="source"]',ONNIT.$dynamic_add_to_cart_form).val()?t('input[name="source"]',ONNIT.$dynamic_add_to_cart_form).val():"";if(d&&(window.ONNIT.hubspot?ONNIT.hubspot.emailListSignup(c,["list_onnit_newsletter"],l):console.warn("HubSpot: Failed to signup email because `ONNIT.hubspot` is undefined. Is JavaScript analytics enabled?")),!window.ONNIT.cart)throw new Error("Cannot add product to cart because `ONNIT.cart` is undefined.");var u=!(!s||!c),p={product_id:Number(o),quantity:Number(r),subscription_interval:Number(i)||null};window.ONNIT.cart.addProducts([p],function(){a.toggleClass("adding added").text("Added"),u?window.location.href="/cart/":(window.ONNIT.cart.openDrawer(),setTimeout(function(){f()},2e3))},function(t){f(),console.error(t)})}}function f(){a.text(a.attr("data-og-text")).prop("disabled",!1).removeClass("adding added")}},t(".js-inline-cart-form").submit(ONNIT.dynamic_add_to_cart),ONNIT.is_academy="blog"===t("body").attr("id"),ONNIT.refresh_ghi_count=function(){var e=t(".global-header-items").eq(0),a=e.find(".global-header-item");e.attr("data-count",a.length)},ONNIT.refresh_ghi_count(),ONNIT.nav={$a:t("#primary-nav li.has-secondary > a"),$a_acad:t("#academy-nav li.has-secondary > a, #certification-nav li.has-secondary > a"),$li:t("#primary-nav li.has-secondary"),$sub_a:t("#primary-nav a[data-src]"),state:null,site:null,version:null,shimmy:function(){if(t("#primary-nav").attr("data-screen-size",window.IS_BIGSCREEN?"desktop":"mobile"),ONNIT.nav.state||(a.on("click",ONNIT.nav.util_untoggle),t(".close-mobile-subnav").on("click",ONNIT.nav.sub_toggle),ONNIT.nav.version=t("#header").data("version"),ONNIT.nav.site=t("#academy-nav").length?"academy":"onnit",ONNIT.nav.util_hover(),t(".site-util-primary-item.search > a").click(function(){t(this).parents(".site-util-primary-item").toggleClass("is-open")})),window.IS_BIGSCREEN){if("bigscreen"===ONNIT.nav.state)return;ONNIT.nav.$a.off("click"),ONNIT.nav.$a_acad.off("click"),ONNIT.nav.$li.on("mouseenter",ONNIT.nav.show_first_product),ONNIT.nav.$sub_a.on("mouseenter",ONNIT.nav.show_product),ONNIT.nav.state="bigscreen"}else{if("smallscreen"===ONNIT.nav.state||ONNIT.nav.$a.hasClass("event-handler-attached"))return;ONNIT.nav.$a.on("click",ONNIT.nav.sub_toggle).first().addClass("event-handler-attached"),ONNIT.nav.$a_acad.on("click",ONNIT.nav.sub_toggle),ONNIT.nav.$sub_a.off("mouseenter"),ONNIT.nav.state="smallscreen"}},util_untoggle:function(e){t(e.target).closest(".site-util-primary-item").length||t(".site-util-primary-item").removeClass("is-open")},show_product:function(e,a){var n=(a=a||t(e.currentTarget)).data("src"),i=(a.data("blurb"),a.data("stage")||null),o=a.closest(".site-nav-list-inner").find(".site-nav-stage");i&&(o=o.filterByData("stage",i)),o.find("img").attr("src",n)},show_first_product:function(e){var a=t(e.currentTarget);if("new"===ONNIT.nav.version){var n=a.find(".site-nav-secondary-item:not(.site-nav-back-item) .site-nav-secondary-anchor:not(.close-mobile-subnav)");ONNIT.nav.show_product(null,n)}else{a.find("img[data-src]").each(function(e,a){t(a).attr("src",t(a).attr("data-src"))})}},sub_toggle:function(e){e.preventDefault();var a=t(e.target).closest("li.site-nav-primary-item");a.hasClass("toggled-on")?(t(e.target).closest("li.site-nav-primary-item").attr("aria-expanded",!1),a.removeClass("toggled-on").find("a.site-nav-primary-anchor").focus()):(ONNIT.nav.$a.removeClass("event-handler-attached"),t(e.target).closest("li.site-nav-primary-item").attr("aria-expanded",!0),a.addClass("toggled-on tab-focus").find(".subnav .site-nav-secondary-item:visible:first a").focus())},util_hover:function(){t(".site-header-util").one("mouseenter click",".site-util-primary-item",function(){t.getJSON("/cart/cart-api.php?action=getAuthenticatedCustomer",function(e){var a=t("#utilaccount"),n=e.customer;n.customer_id?(a.attr("data-state","logged-in"),t(".new-your-account").attr("href","/cart/account.php"),window.fbq&&n.email&&!window.FACEBOOK_PIXEL_HAS_INITIALIZED&&(window.fbq("dataProcessingOptions",["LDU"],0,0),window.fbq("init","997337826984362",{em:n.email}))):a.attr("data-state","logged-out")})})}},ONNIT.nav.shimmy(),e.smartresize(function(){e.trigger("smartresize-callback");var a=window.IS_BIGSCREEN;void 0!==window.BIGSCREEN_TEST&&window.BIGSCREEN_TEST(),window.IS_BIGSCREEN!==a&&(t(".mfp-close").trigger("click"),e.trigger("screen-change")),ONNIT.nav.shimmy()}),ONNIT.header_ticker={timer:null,init:function(){ONNIT.header_ticker.timer=window.setInterval(ONNIT.header_ticker.rotate,300)},stop:function(){}},ONNIT.popup_message=function(e,a,n){if("popup"===(n=n||"popup"))t.magnificPopup.open({items:{src:'<div class="white-popup"><h2>'+e+"</h2><p>"+a+"</p></div>",type:"inline"}});else{var i=t(n);i.length&&i.html('<b style="text-transform:uppercase;">'+e+"</b>&emsp;"+a)}}}(jQuery),function(t){t.fn.enter=function(e){return this.each(function(){t(this).keyup(function(a){13===a.keyCode&&"function"==typeof e&&e(t(this))})})},t(function(){t('a[href*="#"]').not(".no-scroll").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=t(this.hash);if(!e.length&&this.hash&&this.hash.length>1&&(e=t("[name="+this.hash.slice(1)+"]")),e.length){var a=e.offset().top;return t(this).attr("data-offset")&&(a+=parseInt(t(this).attr("data-offset"))),t("html,body").animate({scrollTop:a},500),window.location.hash=this.hash,!1}}})}),t(function(){t(".input,.select,.textarea").not(".Input,.Select,.Textarea").each(function(){t(this).hasClass("is-activated")||(t(this).val()||"please select"==t("option:selected",this).text().toLowerCase()?t(this).parents(".input-group").addClass("is-dirty"):t(this).parents(".input-group").removeClass("is-dirty"))}).addClass("is-activated").on("focus",function(){t(this).parents(".input-group").hasClass("is-read-only")||t(this).parents(".input-group").addClass("is-focused")}).on("change keyup",function(){t(this).val()||"please select"==t("option:selected",this).text().toLowerCase()?t(this).parents(".input-group").addClass("is-dirty"):t(this).parents(".input-group").removeClass("is-dirty")}).on("blur",function(){t(this).parents(".input-group").removeClass("is-focused")}),t(".site-footer").on("click keydown",".site-footer-expand-trigger",function(e){1!==e.which&&13!==e.keyCode||t(this).toggleClass("is-expanded").next(".site-footer-expandable").toggleClass("is-expanded")}),t("a[href$='free-shipping-details']").on("click keydown",function(e){1!==e.which&&13!==e.keyCode||(e.preventDefault(),t("."+t(this).attr("href").substring(1)).toggleClass("hide"))}),t(".site-search-form,.site-util-searchform").submit(function(e){var a=t(this).find('input[name="q"]').val();""!==a?"/search/"===t(this).attr("action")&&(window.location="/search/?q="+a):(e.preventDefault(),t(this).find('input[name="q"]').focus())}),"object"==typeof imgix&&imgix.onready(function(){imgix.fluid()}),t(".magnific-sidebar").magnificPopup({fixedContentPos:!0,autoFocusLast:!0,fixedBGPos:!0,mainClass:"mfp-sidebar mfp-sidebar-right mfp-wrap",removalDelay:250,closeOnContentClick:!1,showCloseBtn:!0,callbacks:{open:function(){},afterClose:function(){t("#userlike-tab").show(),t("#product-page").length&&t("#product-page .buy-box .add-to-cart-button").trigger("cart-flyout-closed")},change:function(){"#frequency-popup"==this.currItem.src&&t(this.wrap).removeClass("mfp-sidebar mfp-sidebar-right")}}}),t(".magnific").each(function(){t(this).hasClass("mfp-event-handler-attached")||t(this).magnificPopup(t(this).data("mfp-options")).addClass("mfp-event-handler-attached")}),t(".utilicart-header-back").click(function(){t.magnificPopup.close()}),t('a[rel="external"]').attr("target","_blank");t("body").on("submit",".site-newsletter-form",function(e){e.preventDefault();var a=t(e.currentTarget);if(!a.hasClass("loading")){a.attr("action");var n=a.find('input[type="email"]').val(),i=void 0!==a.attr("data-notify")?a.attr("data-notify"):"popup",o=void 0!==a.attr("data-close-me-after")?a.attr("data-close-me-after"):null;if(a.attr("data-ob-api-track"),a.addClass("loading"),!n.length||!n.indexOf("@"))return a.removeClass("loading"),void ONNIT.popup_message("Error","Please enter a valid email",i);var r=a.serializeArray().reduce(function(t,e){return t[e.name]=e.value,t},{}),s={onnit:"list_onnit_newsletter",marvel:"list_page_marvel",kettlebells:"list_page_kettlebells",steelmace:"list_page_steel_mace"},c=r.list&&s[r.list]?s[r.list]:s.onnit,d=r.source?r.source:"onnit:newsletter";if(!window.ONNIT.hubspot)throw new Error("HubSpot: Failed to signup email because `ONNIT.hubspot` is undefined. Is JavaScript analytics enabled?");if(!ONNIT.hubspot.emailListSignup(n,c,d))return a.removeClass("loading"),void ONNIT.popup_message("Error","Something went wrong. Try again in a few minutes.",i);a.hasClass("suppress-success-popup")||ONNIT.popup_message("Success","Check your inbox for a signup confirmation link from Onnit.",i),a.removeClass("loading"),"undefined"!=typeof obApi&&obApi("track","Newsletter Signup"),"undefined"!=typeof fbq&&fbq("track","Lead"),a.trigger("emailaccepted"),o&&setTimeout(function(){t(o).fadeOut()},600)}}),"Blazy"in window||t(".b-lazy","#global-header-outer").each(function(e,a){var n=a.getAttribute("data-src");t(new Image).load(function(){a.style.backgroundImage='url("'+n+'")',a.className+=" b-loaded",a.removeAttribute("data-src")}).attr("src",n)})});var e=window.location.search;null===e.match(/[\?&]utm_source=(facebook|fb|instagram|ig)(&|$)/)&&null===e.match(/[\?&]medium=(paidsocial)(&|$)/)||t(".contains-hemp").hide()}(jQuery);
//# sourceMappingURL=/onnit/maps/onnit-HbwN1gQC0j9Rz9IS31fcd07f9275.js.map
